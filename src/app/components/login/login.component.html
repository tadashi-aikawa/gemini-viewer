<div class="center-horizontal">
    <h2>Login</h2>


    <div *ngIf="useLocalStack; then endpoint else credentials"></div>
    <ng-template #credentials>
        <mat-form-field>
            <input matInput
                   [(ngModel)]="accessKeyId"
                   placeholder="Access key ID"
                   (keyup.enter)="login()"
            >
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   type="password"
                   placeholder="Secret access key"
                   [(ngModel)]="secretAccessKey"
                   (keyup.enter)="login()"
            >
        </mat-form-field>
    </ng-template>
    <ng-template #endpoint>
        <mat-form-field>
            <input matInput [(ngModel)]="localStackEndpoint" placeholder="Host (ex. http://localhost)"
                   (keyup.enter)="login()">
        </mat-form-field>
    </ng-template>

    <div class="center-vertical">
        <a href="https://github.com/localstack/localstack">
            <img src="https://www.yextstatic.com/cms/spark/localstack_small.png" height="45px"/>
        </a>
        <mat-slide-toggle [(ngModel)]="useLocalStack" class="smart-padding-left-small">
        </mat-slide-toggle>
    </div>

    <div *ngIf="authenticating">
        Login...
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>

    <span *ngIf="errorMessage" class="error-message">{{errorMessage}}</span>
</div>
